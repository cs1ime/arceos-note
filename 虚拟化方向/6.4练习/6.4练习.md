## **简述：为了让虚拟设备能够保存内部状态，代码要做哪些修改？

采用面向对象的形式进行编程

定义设备对象继承于 `PortIoDevice` ，把设备中的非常量（可变的内部状态）用一个被Mutex保护的Inner对象来管理实现同步特征





